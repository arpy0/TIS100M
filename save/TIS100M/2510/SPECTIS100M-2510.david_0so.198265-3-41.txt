##david_0so 198265/3/41
@0
MOV UP ACC
SAV
SUB 1
*:ADD 1
SWP #IN
MOV ACC DOWN
SWP #DIVISOR
MOV DOWN NIL
MOV ACC DOWN
JRO DOWN
MOV ACC DOWN
SUB 2
JGZ *
MOV 0 DOWN

@1


@2
IN: MOV UP ACC
JEZ >
/?:
MOV -1 UP
SUB UP
JGZ /?
JEZ /
~/:MOV 2 UP
JMP IN
/:MOV 1 UP
MOV UP DOWN
JMP IN
>: MOV 0 DOWN

@3
0:MOV UP ACC
SUB 1
JLZ 2
JEZ 1
SWP
ADD 1
SWP
JMP 0
1:MOV 1 DOWN
MOV UP NIL
JMP 0
2:SUB ACC
SWP
ADD 1
MOV ACC DOWN